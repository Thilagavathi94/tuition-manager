<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Monthly Exam Marks</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f6f9;
        }
        .container {
            max-width: 750px;
            margin: 30px auto;
            background: #ffffff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        h2 { margin-bottom: 20px; }
        label { font-weight: bold; margin-top: 10px; display: block; }
        select, input { width: 100%; padding: 8px; margin-top: 5px; margin-bottom: 15px; }
        button {
            background: #2563eb;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        th { background: #f1f5f9; }
    </style>
</head>

<body>

<div class="container">
    <h2>ðŸ“˜ Monthly Exam Marks</h2>

    <!-- SINGLE SAVE FORM -->
    <form method="post" th:action="@{/monthly-mark/save}">
        <label>Student</label>
        <select name="studentId" required>
            <option value="">Select Student</option>
            <option th:each="s : ${students}" th:value="${s.id}" th:text="${s.name}"></option>
        </select>

        <label>Subject</label>
        <select name="subject" required>
            <option value="">Select Subject</option>
            <option>Maths</option>
            <option>English</option>
            <option>Science</option>
        </select>

        <label>Month</label>
        <select name="month" required>
            <option value="">Select Month</option>
            <option value="1">January</option>
            <option value="2">February</option>
            <option value="3">March</option>
            <option value="4">April</option>
            <option value="5">May</option>
            <option value="6">June</option>
            <option value="7">July</option>
            <option value="8">August</option>
            <option value="9">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12">December</option>
        </select>

        <label>Year</label>
        <input type="number" name="year" value="2026" required>

        <label>Marks</label>
        <input type="number" name="marks" min="0" max="100" required>

        <button type="submit">ðŸ’¾ Save Marks</button>
    </form>

   <h3 style="margin-top:25px;">ðŸ“‹ Saved Marks</h3>

<table>
    <thead>
    <tr>
        <th>Student</th>
        <th>Month</th>
        <th>Year</th>
        <th>Subject</th>
        <th>Marks</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="m : ${marksList}">
        <td th:text="${m.student.name}"></td>
        <td th:text="${m.month}"></td>
        <td th:text="${m.year}"></td>
        <td th:text="${m.subject}"></td>
        <td>
            <span class="badge" th:text="${m.marks}"></span>
        </td>
    </tr>

    <tr th:if="${#lists.isEmpty(marksList)}">
        <td colspan="5" style="text-align:center;color:#888;">
            No marks saved yet
        </td>
    </tr>
    </tbody>
</table>
</div>
</body>
</html>
